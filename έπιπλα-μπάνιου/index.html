<!-- Aggelopoulos – Έπιπλα Μπάνιου (gallery + viewer) — same layout as wardrobes, hero=4 -->
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NQ462JWK');</script>
<!-- End Google Tag Manager -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JKKBBQTQ5Z">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JKKBBQTQ5Z');
</script>

<script src="/assets/js/favicon-injector.js"></script>
<style>
/* ===== RESET ===== */
html,body{margin:0;padding:0}
body{background:#fff;color:#111}

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NQ462JWK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->  
  
/* ===== THEME VARS ===== */
.aggl{--accent:#5D4E37;--black:#111;--white:#fff;--muted:#6b6b6b}
.aggl .wrap{max-width:1100px;margin:0 auto;padding:0 16px}
.section-gap{height:40px}

/* LINKS + BUTTONS */
.aggl a{color:inherit;text-decoration:none;transition:opacity .18s ease}
.aggl a:hover{opacity:.9}
.btn{border-radius:999px;display:inline-block;font-weight:700;padding:12px 22px;background:var(--accent);color:#fff;transition:transform .18s ease,box-shadow .18s ease}
.btn:hover{transform:translateY(-2px);box-shadow:0 14px 28px rgba(0,0,0,.22)}
.btn:focus{outline:2px solid rgba(93,78,55,.45);outline-offset:2px;border-radius:999px}

/* ===== HERO ===== */
.hero{position:relative;width:100vw;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw;background:#1f1a12}
.hero .inner{
  min-height:clamp(260px,50vh,520px);
  display:flex;align-items:center;justify-content:center;padding:36px 20px;
  background:
    linear-gradient(0deg,rgba(0,0,0,.62),rgba(0,0,0,.62)),
    var(--hero-img) center 55%/cover no-repeat;
  color:#fff;
}
.hero .content{max-width:1200px;margin:0 auto;text-align:center;color:#fff;padding:0 18px}
.hero h1{margin:6px auto 8px;font-size:clamp(24px,4.2vw,46px);line-height:1.18;max-width:980px}
.hero p{margin:0 auto 16px;max-width:1000px;font-size:clamp(14px,2.1vw,19px);line-height:1.55}
  
/* === White logo button (Home) === */
.logo-fixed{position:absolute;top:18px;left:18px;width:180px;max-width:38vw;height:auto;z-index:10;opacity:.95;transition:opacity .2s ease,transform .2s ease}
.logo-fixed:hover{opacity:1;transform:scale(1.02)}
@media (max-width:600px){.logo-fixed{width:140px;top:14px;left:14px}}
@media (max-width:820px){.hero .content{padding-top:92px}}

/* ===== INTRO ===== */
.intro{text-align:center}
.intro h2{margin:0;font-size:clamp(22px,3.6vw,40px)}
.intro p{margin:8px auto 0;max-width:860px;color:var(--muted)}

/* ===== GALLERY ===== */
.g-grid{--min:230px;display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--min),1fr));gap:14px;align-items:stretch}
.g-item{position:relative;border-radius:14px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.08);background:linear-gradient(180deg,#f2f2f2 0%,#e8e7e6 100%);aspect-ratio:4/3;cursor:pointer;transition:transform .18s ease,box-shadow .18s ease}
.g-item:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(0,0,0,.12)}
.g-item .img{position:absolute;inset:0;background-size:cover;background-position:center}

/* ===== LIGHTBOX (desktop arrows + mobile swipe, cross-fade, freeze bg) ===== */
.viewer[hidden]{display:none}
.viewer{position:fixed;inset:0;background:rgba(0,0,0,.94);display:grid;grid-template-rows:1fr auto;place-items:center;z-index:9999}
.viewer .stage{position:relative;width:min(96vw,1280px);height:min(86vh,860px);background:#000;border-radius:10px;overflow:hidden;touch-action:pan-y}
.viewer .stage .full{position:absolute;inset:0;background:center/contain no-repeat;opacity:1;transition:opacity .32s ease}
.viewer .controls{display:flex;gap:10px;align-items:center;padding:10px}
.viewer .btn{background:rgba(255,255,255,.1);backdrop-filter:saturate(1.2) blur(4px);border:1px solid rgba(255,255,255,.2);color:#fff}
.viewer .nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.25);color:#fff;width:44px;height:44px;border-radius:50%;display:grid;place-items:center;font-size:26px}
.viewer .nav.prev{left:8px}
.viewer .nav.next{right:8px}
@media(max-width:820px){.viewer .nav{display:none}} /* κινητά: μόνο swipe */
body.aggl-modal-open{overflow:hidden;position:fixed;width:100%}

/* ===== FOOTER (ίδιο με v34, + μικρό κενό πριν τον τίτλο) ===== */
.footer{margin-top:20px;background:linear-gradient(180deg,#3a2f1f 0%,#2c2418 100%);color:#fff}
.footer .wrap{display:grid;grid-template-columns:1.3fr 1fr 1fr;gap:22px;align-items:start;padding:28px 16px}
@media (max-width:900px){.footer .wrap{grid-template-columns:1fr}}
.footer p,.footer a{color:#fff}
.footer .brand{font-weight:900;font-size:22px;margin:6px 0 6px;letter-spacing:.2px} /* +top space */
.footer .muted{opacity:.85;line-height:1.6}
.footer .mini-nav{display:grid;grid-template-columns:repeat(2,minmax(120px,1fr));gap:8px 14px;margin-top:6px}
.footer .mini-nav a{font-weight:600}
.footer .box{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:14px}
.footer .divider{height:1px;background:rgba(255,255,255,.12);margin:14px 0}
.footer .bottom{border-top:1px solid rgba(255,255,255,.12);padding:14px 0;text-align:center}
.footer .bottom .year{font-weight:700;opacity:.95}
.footer .bottom .tag{display:block;opacity:.85;margin-top:4px}
.footer .nav-box{
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.16);
  box-shadow:0 8px 22px rgba(0,0,0,.12) inset, 0 1px 0 rgba(255,255,255,.08);
  border-radius:16px;padding:0;
}
.footer .nav-box .box-title{
  font-weight:900;letter-spacing:.2px;padding:12px 16px;
  background:rgba(255,255,255,.08);
  border-bottom:1px solid rgba(255,255,255,.16);
}
.footer .nav-box .mini-nav{padding:12px 16px 16px;gap:10px 18px}
@media (min-width:901px){
  .footer .nav-box .mini-nav{grid-template-columns:repeat(3,minmax(120px,1fr))}
  .footer .nav-box .mini-nav a{position:relative;padding:6px 0 6px 18px;opacity:.92}
  .footer .nav-box .mini-nav a::before{content:"›";position:absolute;left:0;top:50%;transform:translateY(-50%);opacity:.85}
  .footer .nav-box .mini-nav a:hover{opacity:1;transform:translateX(2px)}
}

/* ===== MOBILE POLISH ===== */
@media (max-width:820px){
  .aggl .wrap{padding:0 12px}
  .section-gap{height:28px}
  .hero .inner{min-height:320px;padding:26px 14px}
  .hero h1{font-size:clamp(22px,7vw,30px);line-height:1.2}
  .hero p{font-size:15px;line-height:1.55}
  .g-grid{--min:150px;gap:10px}
}
.aggl img{max-width:100%;height:auto}
.aggl{overflow-x:hidden}
</style>

<div class="aggl">
  <!-- ===== HERO ===== -->
  <section class="hero" style="--hero-img:url(/assets/epipla-mpaniou/aggelopoulos-epipla-mpaniou-4.jpg)">
    <div class="inner">
      <!-- Λευκό λογότυπο ως κουμπί προς Αρχική -->
      <a href="https://aggelopouloscarpentry.com/" aria-label="Αρχική">
        <img class="logo-fixed" src="https://aggelopoulosmycanva.wordpress.com/wp-content/uploads/2024/03/aggelopoulos-carpentry-logo-hd.png" alt="Aggelopoulos Carpentry">
      </a>

      <div class="content">
        <h1>Έπιπλα Μπάνιου — Ανθεκτικά &amp; Καλαίσθητα</h1>
        <p>Ντουλάπια μπάνιου κατά παραγγελία με αντοχή στην υγρασία, ποιοτικά φινιρίσματα, εργονομικά εσωτερικά και φωτισμό LED.</p>
      </div>
    </div>
  </section>

  <div class="section-gap"></div>

  <!-- ===== INTRO ===== -->
  <section class="wrap intro">
    <h2>Gallery Έργων</h2>
    <p>Ενδεικτικές κατασκευές μπάνιου — από minimal έως κλασικό, με ακρίβεια στις αρμολογήσεις και υλικά μεγάλης διάρκειας.</p>
  </section>

  <div class="section-gap" style="height:24px"></div>

  <!-- ===== GALLERY ===== -->
  <section class="wrap">
    <div class="g-grid" id="g-grid" aria-live="polite"></div>
  </section>

  <div class="section-gap"></div>

  <!-- ===== FOOTER (v34) ===== -->
  <footer class="footer">
    <div class="wrap">
      <div>
        <p class="brand">Aggelopoulos Carpentry</p>
        <p class="muted">Ξυλουργικές λύσεις: Κουζίνες, Ντουλάπες, Μπάνια, Πόρτες &amp; Ειδικές Κατασκευές. Από το 1960 στο Περιστέρι.</p>
        <div class="divider"></div>
      </div>

      <div class="box nav-box">
        <div class="box-title">Σύνδεσμοι</div>
        <nav class="mini-nav" aria-label="Χρήσιμοι σύνδεσμοι">
          <a href="https://aggelopouloscarpentry.com/">Αρχική</a>
          <a href="https://aggelopouloscarpentry.com/έπιπλα-κουζίνας/">Κουζίνες</a>
          <a href="https://aggelopouloscarpentry.com/έπιπλα-υπνοδωμάτιου/">Ντουλάπες</a>
          <a href="https://aggelopouloscarpentry.com/έπιπλα-μπάνιου/">Μπάνια</a>
          <a href="https://aggelopouloscarpentry.com/πόρτες-και-κουφώματα/">Πόρτες</a>
          <a href="https://aggelopouloscarpentry.com/ειδικές-κατασκευές/">Ειδικές</a>
          <a href="https://aggelopouloscarpentry.com/επικοινωνία/">Επικοινωνία</a>
        </nav>
      </div>

      <div class="box">
        <strong>Επικοινωνία</strong>
        <p class="muted" style="margin:6px 0 10px">
          Χρυσάνθου 58, Περιστέρι, 12136<br>
          <a href="tel:+306936815779">(+30) 693 6815 779</a><br>
          <a href="mailto:basilisangelopoulos1965@gmail.com">basilisangelopoulos1965@gmail.com</a>
        </p>
        <a class="btn" href="https://aggelopouloscarpentry.com/επικοινωνία/">Ζητήστε Δωρεάν Μέτρηση</a>
      </div>
    </div>
    <div class="wrap bottom">
      <span class="year">© Aggelopoulos Carpentry 2025</span>
      <span class="tag">Φτιαγμένο με μεράκι στην Αθήνα.</span>
    </div>
  </footer>
</div>

<!-- ===== GALLERY CONFIG (μπάνια) ===== -->
<script>
  // Ριζικός φάκελος και pattern αρχείων
  window.AGGLO_IMG_BASE = '/assets/epipla-mpaniou';
  window.AGGLO_IMG_EXT  = 'jpg';
  // filenames: aggelopoulos-epipla-mpaniou-{i}.jpg
  window.AGGLO_IMG_NAMER = function(i,ext){ return 'aggelopoulos-epipla-mpaniou-' + i + '.' + ext; };
  window.AGGLO_IMG_MIN_INDEX = 1;
  window.AGGLO_IMG_MAX_INDEX = 12; /* αν έχεις λιγότερες, απλώς θα τις αγνοήσει */
</script>

<script>
/* ===== DYNAMIC GALLERY + VIEWER (desktop arrows, mobile swipe, cross‑fade, freeze body) ===== */
(function(){
  var grid=document.getElementById('g-grid'); if(!grid) return;

  var EXT=(window.AGGLO_IMG_EXT||'jpg').replace('.','');
  var BASE=(window.AGGLO_IMG_BASE||'').replace(/\/$/,'');
  var NAMER=window.AGGLO_IMG_NAMER || function(i,ext){ return 'item_'+i+'.'+ext; };
  var MIN = Number(window.AGGLO_IMG_MIN_INDEX||1);
  var MAX = Number(window.AGGLO_IMG_MAX_INDEX||12);

  var images=[];

  function addCard(idx,url){
    var li=document.createElement('div');
    li.className='g-item'; li.setAttribute('role','button'); li.setAttribute('tabindex','0');
    li.dataset.idx=images.length;
    var img=document.createElement('div'); img.className='img'; img.style.backgroundImage='url("'+url+'")';
    li.appendChild(img); grid.appendChild(li);
    images.push(url);
  }

  var pending=0;
  function tryLoad(i){
    var url = BASE + '/' + NAMER(i, EXT);
    pending++;
    var im=new Image();
    im.onload=function(){ addCard(i,url); checkDone(); };
    im.onerror=function(){ checkDone(); };
    im.src=url;
  }
  function checkDone(){ if(--pending<=0 && images.length===0){ grid.innerHTML='<p style="grid-column:1/-1;text-align:center;color:#6b6b6b">Δεν βρέθηκαν εικόνες.</p>'; } }

  for(var i=MIN;i<=MAX;i++){ tryLoad(i); }

  // ===== Lightbox =====
  var v=null, cur=0, scrollY=0;

  function open(pos){
    cur=pos;
    if(!v){
      v=document.createElement('div');
      v.className='viewer';
      v.innerHTML='<div class="stage"><div class="full" id="vfull"></div><button class="nav prev" aria-label="Προηγούμενη">‹</button><button class="nav next" aria-label="Επόμενη">›</button></div><div class="controls"><button class="btn" id="vclose">Κλείσιμο</button></div>';
      document.body.appendChild(v);
      v.querySelector('#vclose').onclick=close;
      v.addEventListener('click',function(e){ if(e.target===v) close(); });

      // Desktop arrows
      var p=v.querySelector('.prev'), n=v.querySelector('.next');
      if(p) p.onclick=function(){ step(-1); };
      if(n) n.onclick=function(){ step(1); };

      // Swipe (touch & mouse) για κινητά
      var stage=v.querySelector('.stage');
      var startX=0, dx=0, touching=false, TH=40;
      function start(e){ touching=true; startX=(e.touches?e.touches[0].clientX:e.clientX); dx=0; }
      function move(e){ if(!touching) return; var x=(e.touches?e.touches[0].clientX:e.clientX); dx=x-startX; }
      function end(){ if(!touching) return; touching=false; if(Math.abs(dx)>TH){ step(dx<0?1:-1);} }
      stage.addEventListener('touchstart',start,{passive:true});
      stage.addEventListener('touchmove',move,{passive:true});
      stage.addEventListener('touchend',end);
      stage.addEventListener('mousedown',start);
      stage.addEventListener('mousemove',move);
      stage.addEventListener('mouseup',end);

      document.addEventListener('keydown',function(e){
        if(!v || v.hasAttribute('hidden')) return;
        if(e.key==='Escape') close();
        if(e.key==='ArrowLeft') step(-1);
        if(e.key==='ArrowRight') step(1);
      });
    }
    v.removeAttribute('hidden');
    freezeBody(true);
    render(true);
  }

  function close(){
    if(!v) return;
    v.setAttribute('hidden','');
    freezeBody(false);
  }

  // Freeze/restore body scroll & keep position
  function freezeBody(on){
    if(on){
      scrollY = window.scrollY || window.pageYOffset;
      document.body.classList.add('aggl-modal-open');
      document.body.style.top = (-scrollY)+'px';
    }else{
      document.body.classList.remove('aggl-modal-open');
      document.body.style.top = '';
      window.scrollTo(0, scrollY);
    }
  }

  function step(d){ cur=((cur+d+images.length)%images.length); render(false); }

  // Cross-fade render
  function render(first){
    var full=v.querySelector('#vfull');
    if(!first){
      full.style.opacity = 0;
      requestAnimationFrame(function(){
        full.style.backgroundImage='url("'+images[cur]+'")';
        requestAnimationFrame(function(){ full.style.opacity = 1; });
      });
    }else{
      full.style.opacity = 0;
      full.style.backgroundImage='url("'+images[cur]+'")';
      requestAnimationFrame(function(){ full.style.opacity = 1; });
    }
  }

  grid.addEventListener('click',function(e){
    var el=e.target.closest('.g-item'); if(!el) return; open(+el.dataset.idx);
  });
  grid.addEventListener('keydown',function(e){
    var el=e.target.closest('.g-item'); if(!el) return;
    if(e.key==='Enter' || e.key===' '){ e.preventDefault(); open(+el.dataset.idx); }
  });
})();
</script>
